<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Stream API trong Java 8&#43; | Blog của Nguyễn Văn Minh]</title>
<meta name="keywords" content="Java, Stream API, Functional Programming">
<meta name="description" content="Stream API trong Java
Stream API (Java 8&#43;) cho phép xử lý tập hợp dữ liệu theo phong cách functional programming.
Stream là gì?
Stream là chuỗi các phần tử hỗ trợ các thao tác tuần tự và song song.
Đặc điểm:

Không lưu trữ dữ liệu
Functional - không thay đổi nguồn
Lazy evaluation - chỉ tính khi cần
Có thể vô hạn

Tạo Stream
import java.util.Arrays;
import java.util.List;
import java.util.stream.Stream;

public class CreateStreamExample {
    public static void main(String[] args) {
        // 1. Từ Collection
        List&lt;String&gt; list = Arrays.asList(&#34;A&#34;, &#34;B&#34;, &#34;C&#34;);
        Stream&lt;String&gt; stream1 = list.stream();
        
        // 2. Từ Array
        String[] array = {&#34;X&#34;, &#34;Y&#34;, &#34;Z&#34;};
        Stream&lt;String&gt; stream2 = Arrays.stream(array);
        
        // 3. Từ Stream.of()
        Stream&lt;Integer&gt; stream3 = Stream.of(1, 2, 3, 4, 5);
        
        // 4. Stream vô hạn
        Stream&lt;Integer&gt; infiniteStream = Stream.iterate(0, n -&gt; n &#43; 2);
        
        // 5. Stream.generate()
        Stream&lt;Double&gt; randomNumbers = Stream.generate(Math::random);
    }
}
Filter - Lọc phần tử
import java.util.List;
import java.util.stream.Collectors;

public class FilterExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        
        // Lọc số chẵn
        List&lt;Integer&gt; evenNumbers = numbers.stream()
            .filter(n -&gt; n % 2 == 0)
            .collect(Collectors.toList());
        
        System.out.println(&#34;Số chẵn: &#34; &#43; evenNumbers);
        // Output: [2, 4, 6, 8, 10]
        
        // Lọc và in ra
        numbers.stream()
            .filter(n -&gt; n &gt; 5)
            .forEach(n -&gt; System.out.println(&#34;Số &gt; 5: &#34; &#43; n));
    }
}
Map - Chuyển đổi phần tử
public class MapExample {
    public static void main(String[] args) {
        List&lt;String&gt; names = Arrays.asList(&#34;alice&#34;, &#34;bob&#34;, &#34;charlie&#34;);
        
        // Chuyển sang chữ hoa
        List&lt;String&gt; upperNames = names.stream()
            .map(String::toUpperCase)
            .collect(Collectors.toList());
        
        System.out.println(upperNames);
        // Output: [ALICE, BOB, CHARLIE]
        
        // Lấy độ dài tên
        List&lt;Integer&gt; nameLengths = names.stream()
            .map(String::length)
            .collect(Collectors.toList());
        
        System.out.println(&#34;Độ dài: &#34; &#43; nameLengths);
        // Output: [5, 3, 7]
        
        // Nhân đôi số
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
        List&lt;Integer&gt; doubled = numbers.stream()
            .map(n -&gt; n * 2)
            .collect(Collectors.toList());
        
        System.out.println(&#34;Nhân đôi: &#34; &#43; doubled);
        // Output: [2, 4, 6, 8, 10]
    }
}
Reduce - Tính toán tổng hợp
import java.util.Optional;

public class ReduceExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
        
        // Tính tổng
        int sum = numbers.stream()
            .reduce(0, (a, b) -&gt; a &#43; b);
        System.out.println(&#34;Tổng: &#34; &#43; sum); // 15
        
        // Hoặc dùng Integer::sum
        int sum2 = numbers.stream()
            .reduce(0, Integer::sum);
        
        // Tìm max
        Optional&lt;Integer&gt; max = numbers.stream()
            .reduce((a, b) -&gt; a &gt; b ? a : b);
        max.ifPresent(m -&gt; System.out.println(&#34;Max: &#34; &#43; m));
        
        // Tìm min
        Optional&lt;Integer&gt; min = numbers.stream()
            .reduce(Integer::min);
        min.ifPresent(m -&gt; System.out.println(&#34;Min: &#34; &#43; m));
        
        // Nối chuỗi
        List&lt;String&gt; words = Arrays.asList(&#34;Java&#34;, &#34;Stream&#34;, &#34;API&#34;);
        String sentence = words.stream()
            .reduce(&#34;&#34;, (a, b) -&gt; a &#43; &#34; &#34; &#43; b);
        System.out.println(sentence.trim()); // &#34;Java Stream API&#34;
    }
}
Collect - Thu thập kết quả
import java.util.stream.Collectors;
import java.util.Set;
import java.util.Map;

public class CollectExample {
    public static void main(String[] args) {
        List&lt;String&gt; names = Arrays.asList(&#34;Alice&#34;, &#34;Bob&#34;, &#34;Charlie&#34;, &#34;David&#34;);
        
        // Collect to List
        List&lt;String&gt; filteredNames = names.stream()
            .filter(n -&gt; n.length() &gt; 4)
            .collect(Collectors.toList());
        
        // Collect to Set
        Set&lt;String&gt; nameSet = names.stream()
            .collect(Collectors.toSet());
        
        // Join strings
        String joined = names.stream()
            .collect(Collectors.joining(&#34;, &#34;));
        System.out.println(joined); // &#34;Alice, Bob, Charlie, David&#34;
        
        // Group by length
        Map&lt;Integer, List&lt;String&gt;&gt; groupedByLength = names.stream()
            .collect(Collectors.groupingBy(String::length));
        System.out.println(groupedByLength);
        // {3=[Bob], 5=[Alice, David], 7=[Charlie]}
        
        // Count
        long count = names.stream()
            .filter(n -&gt; n.startsWith(&#34;A&#34;))
            .count();
        System.out.println(&#34;Tên bắt đầu bằng A: &#34; &#43; count);
    }
}
Sorted - Sắp xếp
import java.util.Comparator;

public class SortedExample {
    public static void main(String[] args) {
        List&lt;String&gt; names = Arrays.asList(&#34;Charlie&#34;, &#34;Alice&#34;, &#34;Bob&#34;, &#34;David&#34;);
        
        // Sắp xếp tăng dần
        List&lt;String&gt; sorted = names.stream()
            .sorted()
            .collect(Collectors.toList());
        System.out.println(&#34;Tăng dần: &#34; &#43; sorted);
        
        // Sắp xếp giảm dần
        List&lt;String&gt; reverseSorted = names.stream()
            .sorted(Comparator.reverseOrder())
            .collect(Collectors.toList());
        System.out.println(&#34;Giảm dần: &#34; &#43; reverseSorted);
        
        // Sắp xếp theo độ dài
        List&lt;String&gt; sortedByLength = names.stream()
            .sorted(Comparator.comparing(String::length))
            .collect(Collectors.toList());
        System.out.println(&#34;Theo độ dài: &#34; &#43; sortedByLength);
        
        // Sắp xếp số
        List&lt;Integer&gt; numbers = Arrays.asList(5, 2, 8, 1, 9, 3);
        List&lt;Integer&gt; sortedNumbers = numbers.stream()
            .sorted()
            .collect(Collectors.toList());
        System.out.println(&#34;Số sắp xếp: &#34; &#43; sortedNumbers);
    }
}
Ví dụ thực tế - Quản lý sinh viên
class Student {
    private String name;
    private int age;
    private double gpa;
    
    public Student(String name, int age, double gpa) {
        this.name = name;
        this.age = age;
        this.gpa = gpa;
    }
    
    // Getters
    public String getName() { return name; }
    public int getAge() { return age; }
    public double getGpa() { return gpa; }
    
    @Override
    public String toString() {
        return name &#43; &#34; (GPA: &#34; &#43; gpa &#43; &#34;)&#34;;
    }
}

public class StudentStreamExample {
    public static void main(String[] args) {
        List&lt;Student&gt; students = Arrays.asList(
            new Student(&#34;Alice&#34;, 20, 3.8),
            new Student(&#34;Bob&#34;, 22, 3.2),
            new Student(&#34;Charlie&#34;, 21, 3.9),
            new Student(&#34;David&#34;, 23, 3.5),
            new Student(&#34;Eve&#34;, 20, 3.7)
        );
        
        // 1. Lọc sinh viên GPA &gt;= 3.5
        System.out.println(&#34;=== Sinh viên GPA &gt;= 3.5 ===&#34;);
        students.stream()
            .filter(s -&gt; s.getGpa() &gt;= 3.5)
            .forEach(System.out::println);
        
        // 2. Tính GPA trung bình
        double avgGpa = students.stream()
            .mapToDouble(Student::getGpa)
            .average()
            .orElse(0.0);
        System.out.println(&#34;\nGPA trung bình: &#34; &#43; avgGpa);
        
        // 3. Tìm sinh viên có GPA cao nhất
        Student topStudent = students.stream()
            .max(Comparator.comparing(Student::getGpa))
            .orElse(null);
        System.out.println(&#34;Sinh viên xuất sắc nhất: &#34; &#43; topStudent);
        
        // 4. Sắp xếp theo GPA giảm dần
        System.out.println(&#34;\n=== Danh sách theo GPA ===&#34;);
        students.stream()
            .sorted(Comparator.comparing(Student::getGpa).reversed())
            .forEach(System.out::println);
        
        // 5. Lấy danh sách tên sinh viên
        List&lt;String&gt; names = students.stream()
            .map(Student::getName)
            .collect(Collectors.toList());
        System.out.println(&#34;\nDanh sách tên: &#34; &#43; names);
        
        // 6. Nhóm sinh viên theo tuổi
        Map&lt;Integer, List&lt;Student&gt;&gt; groupedByAge = students.stream()
            .collect(Collectors.groupingBy(Student::getAge));
        System.out.println(&#34;\nNhóm theo tuổi: &#34; &#43; groupedByAge);
        
        // 7. Đếm số sinh viên &gt;= 21 tuổi
        long count = students.stream()
            .filter(s -&gt; s.getAge() &gt;= 21)
            .count();
        System.out.println(&#34;\nSố SV &gt;= 21 tuổi: &#34; &#43; count);
        
        // 8. Kiểm tra có sinh viên GPA 4.0 không
        boolean hasTopGpa = students.stream()
            .anyMatch(s -&gt; s.getGpa() == 4.0);
        System.out.println(&#34;Có SV GPA 4.0: &#34; &#43; hasTopGpa);
        
        // 9. Lấy 3 sinh viên đầu tiên có GPA cao nhất
        System.out.println(&#34;\n=== Top 3 sinh viên ===&#34;);
        students.stream()
            .sorted(Comparator.comparing(Student::getGpa).reversed())
            .limit(3)
            .forEach(System.out::println);
    }
}
Parallel Stream - Xử lý song song
public class ParallelStreamExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        
        // Sequential stream
        long start1 = System.currentTimeMillis();
        int sum1 = numbers.stream()
            .map(n -&gt; n * 2)
            .reduce(0, Integer::sum);
        long time1 = System.currentTimeMillis() - start1;
        System.out.println(&#34;Sequential: &#34; &#43; sum1 &#43; &#34; - &#34; &#43; time1 &#43; &#34;ms&#34;);
        
        // Parallel stream - nhanh hơn với dữ liệu lớn
        long start2 = System.currentTimeMillis();
        int sum2 = numbers.parallelStream()
            .map(n -&gt; n * 2)
            .reduce(0, Integer::sum);
        long time2 = System.currentTimeMillis() - start2;
        System.out.println(&#34;Parallel: &#34; &#43; sum2 &#43; &#34; - &#34; &#43; time2 &#43; &#34;ms&#34;);
    }
}
Các phương thức hữu ích
public class StreamMethodsExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        
        // distinct() - Loại bỏ duplicate
        List&lt;Integer&gt; duplicates = Arrays.asList(1, 2, 2, 3, 3, 3, 4);
        List&lt;Integer&gt; unique = duplicates.stream()
            .distinct()
            .collect(Collectors.toList());
        System.out.println(&#34;Unique: &#34; &#43; unique);
        
        // limit() - Giới hạn số phần tử
        List&lt;Integer&gt; first5 = numbers.stream()
            .limit(5)
            .collect(Collectors.toList());
        System.out.println(&#34;5 phần tử đầu: &#34; &#43; first5);
        
        // skip() - Bỏ qua n phần tử đầu
        List&lt;Integer&gt; skipFirst3 = numbers.stream()
            .skip(3)
            .collect(Collectors.toList());
        System.out.println(&#34;Bỏ 3 phần tử đầu: &#34; &#43; skipFirst3);
        
        // anyMatch() - Có phần tử nào thỏa mãn không
        boolean hasEven = numbers.stream()
            .anyMatch(n -&gt; n % 2 == 0);
        System.out.println(&#34;Có số chẵn: &#34; &#43; hasEven);
        
        // allMatch() - Tất cả đều thỏa mãn không
        boolean allPositive = numbers.stream()
            .allMatch(n -&gt; n &gt; 0);
        System.out.println(&#34;Tất cả đều dương: &#34; &#43; allPositive);
        
        // noneMatch() - Không có phần tử nào thỏa mãn
        boolean noNegative = numbers.stream()
            .noneMatch(n -&gt; n &lt; 0);
        System.out.println(&#34;Không có số âm: &#34; &#43; noNegative);
        
        // findFirst() - Tìm phần tử đầu tiên
        Optional&lt;Integer&gt; first = numbers.stream()
            .filter(n -&gt; n &gt; 5)
            .findFirst();
        first.ifPresent(n -&gt; System.out.println(&#34;Số đầu tiên &gt; 5: &#34; &#43; n));
        
        // findAny() - Tìm phần tử bất kỳ
        Optional&lt;Integer&gt; any = numbers.stream()
            .filter(n -&gt; n % 2 == 0)
            .findAny();
        any.ifPresent(n -&gt; System.out.println(&#34;Số chẵn bất kỳ: &#34; &#43; n));
    }
}
FlatMap - Làm phẳng Stream
public class FlatMapExample {
    public static void main(String[] args) {
        // List của List
        List&lt;List&lt;Integer&gt;&gt; nestedList = Arrays.asList(
            Arrays.asList(1, 2, 3),
            Arrays.asList(4, 5, 6),
            Arrays.asList(7, 8, 9)
        );
        
        // Làm phẳng thành List đơn
        List&lt;Integer&gt; flatList = nestedList.stream()
            .flatMap(list -&gt; list.stream())
            .collect(Collectors.toList());
        System.out.println(&#34;Flat list: &#34; &#43; flatList);
        // [1, 2, 3, 4, 5, 6, 7, 8, 9]
        
        // Ví dụ với String
        List&lt;String&gt; sentences = Arrays.asList(
            &#34;Hello World&#34;,
            &#34;Java Stream API&#34;,
            &#34;FlatMap Example&#34;
        );
        
        // Lấy tất cả các từ
        List&lt;String&gt; words = sentences.stream()
            .flatMap(sentence -&gt; Arrays.stream(sentence.split(&#34; &#34;)))
            .collect(Collectors.toList());
        System.out.println(&#34;Words: &#34; &#43; words);
        // [Hello, World, Java, Stream, API, FlatMap, Example]
    }
}
Peek - Debug và Side Effects
public class PeekExample {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
        
        // Peek để debug
        List&lt;Integer&gt; result = numbers.stream()
            .peek(n -&gt; System.out.println(&#34;Original: &#34; &#43; n))
            .map(n -&gt; n * 2)
            .peek(n -&gt; System.out.println(&#34;After map: &#34; &#43; n))
            .filter(n -&gt; n &gt; 5)
            .peek(n -&gt; System.out.println(&#34;After filter: &#34; &#43; n))
            .collect(Collectors.toList());
        
        System.out.println(&#34;Final result: &#34; &#43; result);
    }
}
Ví dụ tổng hợp - Xử lý dữ liệu phức tạp
class Product {
    private String name;
    private String category;
    private double price;
    private int stock;
    
    public Product(String name, String category, double price, int stock) {
        this.name = name;
        this.category = category;
        this.price = price;
        this.stock = stock;
    }
    
    public String getName() { return name; }
    public String getCategory() { return category; }
    public double getPrice() { return price; }
    public int getStock() { return stock; }
    
    @Override
    public String toString() {
        return name &#43; &#34; ($&#34; &#43; price &#43; &#34;, stock: &#34; &#43; stock &#43; &#34;)&#34;;
    }
}

public class ProductAnalysis {
    public static void main(String[] args) {
        List&lt;Product&gt; products = Arrays.asList(
            new Product(&#34;Laptop&#34;, &#34;Electronics&#34;, 1000, 5),
            new Product(&#34;Phone&#34;, &#34;Electronics&#34;, 500, 10),
            new Product(&#34;Desk&#34;, &#34;Furniture&#34;, 300, 3),
            new Product(&#34;Chair&#34;, &#34;Furniture&#34;, 150, 7),
            new Product(&#34;Monitor&#34;, &#34;Electronics&#34;, 300, 0),
            new Product(&#34;Tablet&#34;, &#34;Electronics&#34;, 400, 8)
        );
        
        // 1. Tổng giá trị kho hàng theo category
        Map&lt;String, Double&gt; valueByCategory = products.stream()
            .collect(Collectors.groupingBy(
                Product::getCategory,
                Collectors.summingDouble(p -&gt; p.getPrice() * p.getStock())
            ));
        System.out.println(&#34;Giá trị kho theo danh mục:&#34;);
        valueByCategory.forEach((cat, val) -&gt; 
            System.out.println(cat &#43; &#34;: $&#34; &#43; val));
        
        // 2. Sản phẩm Electronics có giá &gt; 400
        System.out.println(&#34;\nElectronics giá &gt; $400:&#34;);
        products.stream()
            .filter(p -&gt; p.getCategory().equals(&#34;Electronics&#34;))
            .filter(p -&gt; p.getPrice() &gt; 400)
            .forEach(System.out::println);
        
        // 3. Top 3 sản phẩm đắt nhất còn hàng
        System.out.println(&#34;\nTop 3 đắt nhất (còn hàng):&#34;);
        products.stream()
            .filter(p -&gt; p.getStock() &gt; 0)
            .sorted(Comparator.comparing(Product::getPrice).reversed())
            .limit(3)
            .forEach(System.out::println);
        
        // 4. Số lượng sản phẩm hết hàng
        long outOfStock = products.stream()
            .filter(p -&gt; p.getStock() == 0)
            .count();
        System.out.println(&#34;\nSản phẩm hết hàng: &#34; &#43; outOfStock);
        
        // 5. Giá trung bình theo category
        Map&lt;String, Double&gt; avgPriceByCategory = products.stream()
            .collect(Collectors.groupingBy(
                Product::getCategory,
                Collectors.averagingDouble(Product::getPrice)
            ));
        System.out.println(&#34;\nGiá trung bình theo danh mục:&#34;);
        avgPriceByCategory.forEach((cat, avg) -&gt; 
            System.out.printf(&#34;%s: $%.2f\n&#34;, cat, avg));
        
        // 6. Tất cả sản phẩm Electronics có giá &lt; 1000?
        boolean allAffordable = products.stream()
            .filter(p -&gt; p.getCategory().equals(&#34;Electronics&#34;))
            .allMatch(p -&gt; p.getPrice() &lt; 1000);
        System.out.println(&#34;\nTất cả Electronics &lt; $1000: &#34; &#43; allAffordable);
    }
}
Best Practices
public class StreamBestPractices {
    public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);
        
        // ✅ GOOD: Sử dụng method reference khi có thể
        numbers.stream()
            .map(String::valueOf)
            .forEach(System.out::println);
        
        // ❌ BAD: Không nên dùng lambda khi có method reference
        numbers.stream()
            .map(n -&gt; String.valueOf(n))
            .forEach(s -&gt; System.out.println(s));
        
        // ✅ GOOD: Tránh side effects trong stream
        List&lt;Integer&gt; doubled = numbers.stream()
            .map(n -&gt; n * 2)
            .collect(Collectors.toList());
        
        // ❌ BAD: Side effects (thay đổi external state)
        List&lt;Integer&gt; result = new ArrayList&lt;&gt;();
        numbers.stream().forEach(n -&gt; result.add(n * 2)); // Tránh làm như này
        
        // ✅ GOOD: Sử dụng parallel stream cho tác vụ CPU-intensive
        int sum = numbers.parallelStream()
            .mapToInt(Integer::intValue)
            .sum();
        
        // ✅ GOOD: Chain operations một cách hợp lý
        List&lt;String&gt; processed = numbers.stream()
            .filter(n -&gt; n % 2 == 0)
            .map(n -&gt; n * 2)
            .map(String::valueOf)
            .collect(Collectors.toList());
    }
}
Kết luận
Stream API giúp:">
<meta name="author" content="Tên của bạn">
<link rel="canonical" href="http://localhost:1313/posts/java-stream-api/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a482bf00fa5c046040ef7973ad5fdf5657890cacb596c93f1382f664ca542074.css" integrity="sha256-pIK/APpcBGBA73lzrV/fVleJDKy1lsk/E4L2ZMpUIHQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/java-stream-api/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Blog của Nguyễn Văn Minh (Alt + H)">Blog của Nguyễn Văn Minh</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="Profile">
                    <span>Profile</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Stream API trong Java 8&#43;
    </h1>
    <div class="post-meta"><span title='2025-10-21 13:00:00 +0700 +07'>October 21, 2025</span>&nbsp;·&nbsp;<span>10 min</span>&nbsp;·&nbsp;<span>Tên của bạn</span>

</div>
  </header> 
  <div class="post-content"><h1 id="stream-api-trong-java">Stream API trong Java<a hidden class="anchor" aria-hidden="true" href="#stream-api-trong-java">#</a></h1>
<p>Stream API (Java 8+) cho phép xử lý tập hợp dữ liệu theo phong cách functional programming.</p>
<h2 id="stream-là-gì">Stream là gì?<a hidden class="anchor" aria-hidden="true" href="#stream-là-gì">#</a></h2>
<p>Stream là chuỗi các phần tử hỗ trợ các thao tác tuần tự và song song.</p>
<p><strong>Đặc điểm:</strong></p>
<ul>
<li>Không lưu trữ dữ liệu</li>
<li>Functional - không thay đổi nguồn</li>
<li>Lazy evaluation - chỉ tính khi cần</li>
<li>Có thể vô hạn</li>
</ul>
<h2 id="tạo-stream">Tạo Stream<a hidden class="anchor" aria-hidden="true" href="#tạo-stream">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Arrays;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.stream.Stream;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CreateStreamExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 1. Từ Collection</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>, <span style="color:#e6db74">&#34;C&#34;</span>);
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream1 <span style="color:#f92672">=</span> list.<span style="color:#a6e22e">stream</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 2. Từ Array</span>
</span></span><span style="display:flex;"><span>        String<span style="color:#f92672">[]</span> array <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#34;X&#34;</span>, <span style="color:#e6db74">&#34;Y&#34;</span>, <span style="color:#e6db74">&#34;Z&#34;</span>};
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> stream2 <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">stream</span>(array);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3. Từ Stream.of()</span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> stream3 <span style="color:#f92672">=</span> Stream.<span style="color:#a6e22e">of</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 4. Stream vô hạn</span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> infiniteStream <span style="color:#f92672">=</span> Stream.<span style="color:#a6e22e">iterate</span>(0, n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">+</span> 2);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 5. Stream.generate()</span>
</span></span><span style="display:flex;"><span>        Stream<span style="color:#f92672">&lt;</span>Double<span style="color:#f92672">&gt;</span> randomNumbers <span style="color:#f92672">=</span> Stream.<span style="color:#a6e22e">generate</span>(Math::random);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="filter---lọc-phần-tử">Filter - Lọc phần tử<a hidden class="anchor" aria-hidden="true" href="#filter---lọc-phần-tử">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.List;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.stream.Collectors;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FilterExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Lọc số chẵn</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> evenNumbers <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Số chẵn: &#34;</span> <span style="color:#f92672">+</span> evenNumbers);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Output: [2, 4, 6, 8, 10]</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Lọc và in ra</span>
</span></span><span style="display:flex;"><span>        numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">&gt;</span> 5)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Số &gt; 5: &#34;</span> <span style="color:#f92672">+</span> n));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="map---chuyển-đổi-phần-tử">Map - Chuyển đổi phần tử<a hidden class="anchor" aria-hidden="true" href="#map---chuyển-đổi-phần-tử">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MapExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> names <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(<span style="color:#e6db74">&#34;alice&#34;</span>, <span style="color:#e6db74">&#34;bob&#34;</span>, <span style="color:#e6db74">&#34;charlie&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Chuyển sang chữ hoa</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> upperNames <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(String::toUpperCase)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(upperNames);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Output: [ALICE, BOB, CHARLIE]</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Lấy độ dài tên</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> nameLengths <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(String::length)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Độ dài: &#34;</span> <span style="color:#f92672">+</span> nameLengths);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Output: [5, 3, 7]</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Nhân đôi số</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> doubled <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Nhân đôi: &#34;</span> <span style="color:#f92672">+</span> doubled);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Output: [2, 4, 6, 8, 10]</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="reduce---tính-toán-tổng-hợp">Reduce - Tính toán tổng hợp<a hidden class="anchor" aria-hidden="true" href="#reduce---tính-toán-tổng-hợp">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Optional;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReduceExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tính tổng</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(0, (a, b) <span style="color:#f92672">-&gt;</span> a <span style="color:#f92672">+</span> b);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tổng: &#34;</span> <span style="color:#f92672">+</span> sum); <span style="color:#75715e">// 15</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Hoặc dùng Integer::sum</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum2 <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(0, Integer::sum);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tìm max</span>
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> max <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>((a, b) <span style="color:#f92672">-&gt;</span> a <span style="color:#f92672">&gt;</span> b <span style="color:#f92672">?</span> a : b);
</span></span><span style="display:flex;"><span>        max.<span style="color:#a6e22e">ifPresent</span>(m <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Max: &#34;</span> <span style="color:#f92672">+</span> m));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Tìm min</span>
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> min <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(Integer::min);
</span></span><span style="display:flex;"><span>        min.<span style="color:#a6e22e">ifPresent</span>(m <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Min: &#34;</span> <span style="color:#f92672">+</span> m));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Nối chuỗi</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> words <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(<span style="color:#e6db74">&#34;Java&#34;</span>, <span style="color:#e6db74">&#34;Stream&#34;</span>, <span style="color:#e6db74">&#34;API&#34;</span>);
</span></span><span style="display:flex;"><span>        String sentence <span style="color:#f92672">=</span> words.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(<span style="color:#e6db74">&#34;&#34;</span>, (a, b) <span style="color:#f92672">-&gt;</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> b);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(sentence.<span style="color:#a6e22e">trim</span>()); <span style="color:#75715e">// &#34;Java Stream API&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="collect---thu-thập-kết-quả">Collect - Thu thập kết quả<a hidden class="anchor" aria-hidden="true" href="#collect---thu-thập-kết-quả">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.stream.Collectors;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Set;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CollectExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> names <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(<span style="color:#e6db74">&#34;Alice&#34;</span>, <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#e6db74">&#34;Charlie&#34;</span>, <span style="color:#e6db74">&#34;David&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Collect to List</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> filteredNames <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n.<span style="color:#a6e22e">length</span>() <span style="color:#f92672">&gt;</span> 4)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Collect to Set</span>
</span></span><span style="display:flex;"><span>        Set<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> nameSet <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toSet</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Join strings</span>
</span></span><span style="display:flex;"><span>        String joined <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">joining</span>(<span style="color:#e6db74">&#34;, &#34;</span>));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(joined); <span style="color:#75715e">// &#34;Alice, Bob, Charlie, David&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Group by length</span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>Integer, List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> groupedByLength <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">groupingBy</span>(String::length));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(groupedByLength);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// {3=[Bob], 5=[Alice, David], 7=[Charlie]}</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Count</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> count <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#34;A&#34;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">count</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tên bắt đầu bằng A: &#34;</span> <span style="color:#f92672">+</span> count);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="sorted---sắp-xếp">Sorted - Sắp xếp<a hidden class="anchor" aria-hidden="true" href="#sorted---sắp-xếp">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Comparator;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SortedExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> names <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(<span style="color:#e6db74">&#34;Charlie&#34;</span>, <span style="color:#e6db74">&#34;Alice&#34;</span>, <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#e6db74">&#34;David&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sắp xếp tăng dần</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> sorted <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tăng dần: &#34;</span> <span style="color:#f92672">+</span> sorted);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sắp xếp giảm dần</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> reverseSorted <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>(Comparator.<span style="color:#a6e22e">reverseOrder</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Giảm dần: &#34;</span> <span style="color:#f92672">+</span> reverseSorted);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sắp xếp theo độ dài</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> sortedByLength <span style="color:#f92672">=</span> names.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>(Comparator.<span style="color:#a6e22e">comparing</span>(String::length))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Theo độ dài: &#34;</span> <span style="color:#f92672">+</span> sortedByLength);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sắp xếp số</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(5, 2, 8, 1, 9, 3);
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> sortedNumbers <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Số sắp xếp: &#34;</span> <span style="color:#f92672">+</span> sortedNumbers);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-thực-tế---quản-lý-sinh-viên">Ví dụ thực tế - Quản lý sinh viên<a hidden class="anchor" aria-hidden="true" href="#ví-dụ-thực-tế---quản-lý-sinh-viên">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> gpa;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span>(String name, <span style="color:#66d9ef">int</span> age, <span style="color:#66d9ef">double</span> gpa) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">gpa</span> <span style="color:#f92672">=</span> gpa;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Getters</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span>() { <span style="color:#66d9ef">return</span> name; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span>() { <span style="color:#66d9ef">return</span> age; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getGpa</span>() { <span style="color:#66d9ef">return</span> gpa; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; (GPA: &#34;</span> <span style="color:#f92672">+</span> gpa <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StudentStreamExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> students <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Alice&#34;</span>, 20, 3.<span style="color:#a6e22e">8</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Bob&#34;</span>, 22, 3.<span style="color:#a6e22e">2</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Charlie&#34;</span>, 21, 3.<span style="color:#a6e22e">9</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;David&#34;</span>, 23, 3.<span style="color:#a6e22e">5</span>),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Eve&#34;</span>, 20, 3.<span style="color:#a6e22e">7</span>)
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 1. Lọc sinh viên GPA &gt;= 3.5</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;=== Sinh viên GPA &gt;= 3.5 ===&#34;</span>);
</span></span><span style="display:flex;"><span>        students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(s <span style="color:#f92672">-&gt;</span> s.<span style="color:#a6e22e">getGpa</span>() <span style="color:#f92672">&gt;=</span> 3.<span style="color:#a6e22e">5</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 2. Tính GPA trung bình</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">double</span> avgGpa <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">mapToDouble</span>(Student::getGpa)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">average</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">orElse</span>(0.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nGPA trung bình: &#34;</span> <span style="color:#f92672">+</span> avgGpa);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3. Tìm sinh viên có GPA cao nhất</span>
</span></span><span style="display:flex;"><span>        Student topStudent <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">max</span>(Comparator.<span style="color:#a6e22e">comparing</span>(Student::getGpa))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">orElse</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sinh viên xuất sắc nhất: &#34;</span> <span style="color:#f92672">+</span> topStudent);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 4. Sắp xếp theo GPA giảm dần</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Danh sách theo GPA ===&#34;</span>);
</span></span><span style="display:flex;"><span>        students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>(Comparator.<span style="color:#a6e22e">comparing</span>(Student::getGpa).<span style="color:#a6e22e">reversed</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 5. Lấy danh sách tên sinh viên</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> names <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(Student::getName)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nDanh sách tên: &#34;</span> <span style="color:#f92672">+</span> names);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 6. Nhóm sinh viên theo tuổi</span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>Integer, List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;&gt;</span> groupedByAge <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">groupingBy</span>(Student::getAge));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nNhóm theo tuổi: &#34;</span> <span style="color:#f92672">+</span> groupedByAge);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 7. Đếm số sinh viên &gt;= 21 tuổi</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> count <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(s <span style="color:#f92672">-&gt;</span> s.<span style="color:#a6e22e">getAge</span>() <span style="color:#f92672">&gt;=</span> 21)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">count</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nSố SV &gt;= 21 tuổi: &#34;</span> <span style="color:#f92672">+</span> count);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 8. Kiểm tra có sinh viên GPA 4.0 không</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> hasTopGpa <span style="color:#f92672">=</span> students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">anyMatch</span>(s <span style="color:#f92672">-&gt;</span> s.<span style="color:#a6e22e">getGpa</span>() <span style="color:#f92672">==</span> 4.<span style="color:#a6e22e">0</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Có SV GPA 4.0: &#34;</span> <span style="color:#f92672">+</span> hasTopGpa);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 9. Lấy 3 sinh viên đầu tiên có GPA cao nhất</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\n=== Top 3 sinh viên ===&#34;</span>);
</span></span><span style="display:flex;"><span>        students.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>(Comparator.<span style="color:#a6e22e">comparing</span>(Student::getGpa).<span style="color:#a6e22e">reversed</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">limit</span>(3)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="parallel-stream---xử-lý-song-song">Parallel Stream - Xử lý song song<a hidden class="anchor" aria-hidden="true" href="#parallel-stream---xử-lý-song-song">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ParallelStreamExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Sequential stream</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> start1 <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum1 <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(0, Integer::sum);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> time1 <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>() <span style="color:#f92672">-</span> start1;
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Sequential: &#34;</span> <span style="color:#f92672">+</span> sum1 <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; - &#34;</span> <span style="color:#f92672">+</span> time1 <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Parallel stream - nhanh hơn với dữ liệu lớn</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> start2 <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum2 <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">parallelStream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">reduce</span>(0, Integer::sum);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> time2 <span style="color:#f92672">=</span> System.<span style="color:#a6e22e">currentTimeMillis</span>() <span style="color:#f92672">-</span> start2;
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Parallel: &#34;</span> <span style="color:#f92672">+</span> sum2 <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; - &#34;</span> <span style="color:#f92672">+</span> time2 <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ms&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="các-phương-thức-hữu-ích">Các phương thức hữu ích<a hidden class="anchor" aria-hidden="true" href="#các-phương-thức-hữu-ích">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StreamMethodsExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// distinct() - Loại bỏ duplicate</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> duplicates <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 2, 3, 3, 3, 4);
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> unique <span style="color:#f92672">=</span> duplicates.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">distinct</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Unique: &#34;</span> <span style="color:#f92672">+</span> unique);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// limit() - Giới hạn số phần tử</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> first5 <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">limit</span>(5)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;5 phần tử đầu: &#34;</span> <span style="color:#f92672">+</span> first5);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// skip() - Bỏ qua n phần tử đầu</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> skipFirst3 <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">skip</span>(3)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Bỏ 3 phần tử đầu: &#34;</span> <span style="color:#f92672">+</span> skipFirst3);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// anyMatch() - Có phần tử nào thỏa mãn không</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> hasEven <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">anyMatch</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Có số chẵn: &#34;</span> <span style="color:#f92672">+</span> hasEven);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// allMatch() - Tất cả đều thỏa mãn không</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> allPositive <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">allMatch</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">&gt;</span> 0);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Tất cả đều dương: &#34;</span> <span style="color:#f92672">+</span> allPositive);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// noneMatch() - Không có phần tử nào thỏa mãn</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> noNegative <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">noneMatch</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">&lt;</span> 0);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Không có số âm: &#34;</span> <span style="color:#f92672">+</span> noNegative);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// findFirst() - Tìm phần tử đầu tiên</span>
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> first <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">&gt;</span> 5)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">findFirst</span>();
</span></span><span style="display:flex;"><span>        first.<span style="color:#a6e22e">ifPresent</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Số đầu tiên &gt; 5: &#34;</span> <span style="color:#f92672">+</span> n));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// findAny() - Tìm phần tử bất kỳ</span>
</span></span><span style="display:flex;"><span>        Optional<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> any <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">findAny</span>();
</span></span><span style="display:flex;"><span>        any.<span style="color:#a6e22e">ifPresent</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Số chẵn bất kỳ: &#34;</span> <span style="color:#f92672">+</span> n));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="flatmap---làm-phẳng-stream">FlatMap - Làm phẳng Stream<a hidden class="anchor" aria-hidden="true" href="#flatmap---làm-phẳng-stream">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FlatMapExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// List của List</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;&gt;</span> nestedList <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(
</span></span><span style="display:flex;"><span>            Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3),
</span></span><span style="display:flex;"><span>            Arrays.<span style="color:#a6e22e">asList</span>(4, 5, 6),
</span></span><span style="display:flex;"><span>            Arrays.<span style="color:#a6e22e">asList</span>(7, 8, 9)
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Làm phẳng thành List đơn</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> flatList <span style="color:#f92672">=</span> nestedList.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">flatMap</span>(list <span style="color:#f92672">-&gt;</span> list.<span style="color:#a6e22e">stream</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Flat list: &#34;</span> <span style="color:#f92672">+</span> flatList);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Ví dụ với String</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> sentences <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Hello World&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;Java Stream API&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;FlatMap Example&#34;</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Lấy tất cả các từ</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> words <span style="color:#f92672">=</span> sentences.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">flatMap</span>(sentence <span style="color:#f92672">-&gt;</span> Arrays.<span style="color:#a6e22e">stream</span>(sentence.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34; &#34;</span>)))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Words: &#34;</span> <span style="color:#f92672">+</span> words);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// [Hello, World, Java, Stream, API, FlatMap, Example]</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="peek---debug-và-side-effects">Peek - Debug và Side Effects<a hidden class="anchor" aria-hidden="true" href="#peek---debug-và-side-effects">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PeekExample</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Peek để debug</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> result <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">peek</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Original: &#34;</span> <span style="color:#f92672">+</span> n))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">peek</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;After map: &#34;</span> <span style="color:#f92672">+</span> n))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">&gt;</span> 5)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">peek</span>(n <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;After filter: &#34;</span> <span style="color:#f92672">+</span> n))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Final result: &#34;</span> <span style="color:#f92672">+</span> result);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ví-dụ-tổng-hợp---xử-lý-dữ-liệu-phức-tạp">Ví dụ tổng hợp - Xử lý dữ liệu phức tạp<a hidden class="anchor" aria-hidden="true" href="#ví-dụ-tổng-hợp---xử-lý-dữ-liệu-phức-tạp">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Product</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String category;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> price;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> stock;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Product</span>(String name, String category, <span style="color:#66d9ef">double</span> price, <span style="color:#66d9ef">int</span> stock) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">category</span> <span style="color:#f92672">=</span> category;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">price</span> <span style="color:#f92672">=</span> price;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">stock</span> <span style="color:#f92672">=</span> stock;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span>() { <span style="color:#66d9ef">return</span> name; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getCategory</span>() { <span style="color:#66d9ef">return</span> category; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">getPrice</span>() { <span style="color:#66d9ef">return</span> price; }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getStock</span>() { <span style="color:#66d9ef">return</span> stock; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; ($&#34;</span> <span style="color:#f92672">+</span> price <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, stock: &#34;</span> <span style="color:#f92672">+</span> stock <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;)&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ProductAnalysis</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Product<span style="color:#f92672">&gt;</span> products <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Laptop&#34;</span>, <span style="color:#e6db74">&#34;Electronics&#34;</span>, 1000, 5),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Phone&#34;</span>, <span style="color:#e6db74">&#34;Electronics&#34;</span>, 500, 10),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Desk&#34;</span>, <span style="color:#e6db74">&#34;Furniture&#34;</span>, 300, 3),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Chair&#34;</span>, <span style="color:#e6db74">&#34;Furniture&#34;</span>, 150, 7),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Monitor&#34;</span>, <span style="color:#e6db74">&#34;Electronics&#34;</span>, 300, 0),
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Product(<span style="color:#e6db74">&#34;Tablet&#34;</span>, <span style="color:#e6db74">&#34;Electronics&#34;</span>, 400, 8)
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 1. Tổng giá trị kho hàng theo category</span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, Double<span style="color:#f92672">&gt;</span> valueByCategory <span style="color:#f92672">=</span> products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">groupingBy</span>(
</span></span><span style="display:flex;"><span>                Product::getCategory,
</span></span><span style="display:flex;"><span>                Collectors.<span style="color:#a6e22e">summingDouble</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getPrice</span>() <span style="color:#f92672">*</span> p.<span style="color:#a6e22e">getStock</span>())
</span></span><span style="display:flex;"><span>            ));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Giá trị kho theo danh mục:&#34;</span>);
</span></span><span style="display:flex;"><span>        valueByCategory.<span style="color:#a6e22e">forEach</span>((cat, val) <span style="color:#f92672">-&gt;</span> 
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(cat <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;: $&#34;</span> <span style="color:#f92672">+</span> val));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 2. Sản phẩm Electronics có giá &gt; 400</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nElectronics giá &gt; $400:&#34;</span>);
</span></span><span style="display:flex;"><span>        products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getCategory</span>().<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;Electronics&#34;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getPrice</span>() <span style="color:#f92672">&gt;</span> 400)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3. Top 3 sản phẩm đắt nhất còn hàng</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nTop 3 đắt nhất (còn hàng):&#34;</span>);
</span></span><span style="display:flex;"><span>        products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getStock</span>() <span style="color:#f92672">&gt;</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sorted</span>(Comparator.<span style="color:#a6e22e">comparing</span>(Product::getPrice).<span style="color:#a6e22e">reversed</span>())
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">limit</span>(3)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 4. Số lượng sản phẩm hết hàng</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">long</span> outOfStock <span style="color:#f92672">=</span> products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getStock</span>() <span style="color:#f92672">==</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">count</span>();
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nSản phẩm hết hàng: &#34;</span> <span style="color:#f92672">+</span> outOfStock);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 5. Giá trung bình theo category</span>
</span></span><span style="display:flex;"><span>        Map<span style="color:#f92672">&lt;</span>String, Double<span style="color:#f92672">&gt;</span> avgPriceByCategory <span style="color:#f92672">=</span> products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">groupingBy</span>(
</span></span><span style="display:flex;"><span>                Product::getCategory,
</span></span><span style="display:flex;"><span>                Collectors.<span style="color:#a6e22e">averagingDouble</span>(Product::getPrice)
</span></span><span style="display:flex;"><span>            ));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nGiá trung bình theo danh mục:&#34;</span>);
</span></span><span style="display:flex;"><span>        avgPriceByCategory.<span style="color:#a6e22e">forEach</span>((cat, avg) <span style="color:#f92672">-&gt;</span> 
</span></span><span style="display:flex;"><span>            System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s: $%.2f\n&#34;</span>, cat, avg));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 6. Tất cả sản phẩm Electronics có giá &lt; 1000?</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">boolean</span> allAffordable <span style="color:#f92672">=</span> products.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getCategory</span>().<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;Electronics&#34;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">allMatch</span>(p <span style="color:#f92672">-&gt;</span> p.<span style="color:#a6e22e">getPrice</span>() <span style="color:#f92672">&lt;</span> 1000);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;\nTất cả Electronics &lt; $1000: &#34;</span> <span style="color:#f92672">+</span> allAffordable);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="best-practices">Best Practices<a hidden class="anchor" aria-hidden="true" href="#best-practices">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StreamBestPractices</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) {
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> numbers <span style="color:#f92672">=</span> Arrays.<span style="color:#a6e22e">asList</span>(1, 2, 3, 4, 5);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ✅ GOOD: Sử dụng method reference khi có thể</span>
</span></span><span style="display:flex;"><span>        numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(String::valueOf)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(System.<span style="color:#a6e22e">out</span>::println);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ❌ BAD: Không nên dùng lambda khi có method reference</span>
</span></span><span style="display:flex;"><span>        numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> String.<span style="color:#a6e22e">valueOf</span>(n))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">forEach</span>(s <span style="color:#f92672">-&gt;</span> System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(s));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ✅ GOOD: Tránh side effects trong stream</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> doubled <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ❌ BAD: Side effects (thay đổi external state)</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> result <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>        numbers.<span style="color:#a6e22e">stream</span>().<span style="color:#a6e22e">forEach</span>(n <span style="color:#f92672">-&gt;</span> result.<span style="color:#a6e22e">add</span>(n <span style="color:#f92672">*</span> 2)); <span style="color:#75715e">// Tránh làm như này</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ✅ GOOD: Sử dụng parallel stream cho tác vụ CPU-intensive</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">parallelStream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">mapToInt</span>(Integer::intValue)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">sum</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ✅ GOOD: Chain operations một cách hợp lý</span>
</span></span><span style="display:flex;"><span>        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> processed <span style="color:#f92672">=</span> numbers.<span style="color:#a6e22e">stream</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">filter</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">%</span> 2 <span style="color:#f92672">==</span> 0)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(n <span style="color:#f92672">-&gt;</span> n <span style="color:#f92672">*</span> 2)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">map</span>(String::valueOf)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">collect</span>(Collectors.<span style="color:#a6e22e">toList</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="kết-luận">Kết luận<a hidden class="anchor" aria-hidden="true" href="#kết-luận">#</a></h2>
<p>Stream API giúp:</p>
<ul>
<li>Code ngắn gọn, dễ đọc hơn</li>
<li>Xử lý dữ liệu theo phong cách functional</li>
<li>Dễ dàng chuyển đổi sang xử lý song song</li>
<li>Giảm thiểu lỗi với immutable operations</li>
</ul>
<p><strong>Khi nào nên dùng Stream:</strong></p>
<ul>
<li>Xử lý collection với nhiều bước biến đổi</li>
<li>Cần filter, map, reduce dữ liệu</li>
<li>Muốn code dễ đọc và maintain</li>
<li>Cần xử lý song song dễ dàng</li>
</ul>
<p><strong>Khi nào KHÔNG nên dùng Stream:</strong></p>
<ul>
<li>Loop đơn giản với ít logic</li>
<li>Cần break/continue giữa chừng</li>
<li>Performance critical với collection nhỏ</li>
<li>Cần modify collection gốc</li>
</ul>
<h2 id="tài-liệu-tham-khảo">Tài liệu tham khảo<a hidden class="anchor" aria-hidden="true" href="#tài-liệu-tham-khảo">#</a></h2>
<ul>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html">Java Stream API Guide</a></li>
<li><a href="https://www.baeldung.com/java-8-streams">Stream API Tutorial</a></li>
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html">Java Stream Collectors</a></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/java/">Java</a></li>
      <li><a href="http://localhost:1313/tags/stream-api/">Stream API</a></li>
      <li><a href="http://localhost:1313/tags/functional-programming/">Functional Programming</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/javascript-array-methods/">
    <span class="title">« Prev</span>
    <br>
    <span>Các phương thức Array quan trọng trong JavaScript</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/collections-framework-java/">
    <span class="title">Next »</span>
    <br>
    <span>Collections Framework trong Java</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on x"
            href="https://x.com/intent/tweet/?text=Stream%20API%20trong%20Java%208%2b&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f&amp;hashtags=Java%2cStreamAPI%2cFunctionalProgramming">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f&amp;title=Stream%20API%20trong%20Java%208%2b&amp;summary=Stream%20API%20trong%20Java%208%2b&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on reddit"
            href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f&title=Stream%20API%20trong%20Java%208%2b">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on facebook"
            href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on whatsapp"
            href="https://api.whatsapp.com/send?text=Stream%20API%20trong%20Java%208%2b%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on telegram"
            href="https://telegram.me/share/url?text=Stream%20API%20trong%20Java%208%2b&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Stream API trong Java 8&#43; on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Stream%20API%20trong%20Java%208%2b&u=http%3a%2f%2flocalhost%3a1313%2fposts%2fjava-stream-api%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Blog của [Tên bạn]</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
